# DVLINK GUI ‚Äî Modbus RTU Scanner

–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Modbus RTU —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ COM-–ø–æ—Ä—Ç—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîå **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (9600‚Äì115200 baud)
- üìñ **–ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Modbus —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏ –∏ coils
- üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ä–µ–∂–∏–º—ã "–±–µ–≥—É—â–∏–µ –æ–≥–Ω–∏", "–∑–º–µ–π–∫–∞", –ø–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
- üîç **–ê–≤—Ç–æ–ø–æ–∏—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤** ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ 1‚Äì200
- üìã **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ** ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—à–∏–≤–∫–µ (–∫–æ–º–∞–Ω–¥–∞ Modbus 17)
- üíæ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- üîå **USB-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –°—Ç–∞—Ç—É—Å | COM-–ø–æ—Ä—Ç—ã | USB-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ |
|-----------|--------|-----------|----------------|
| **Windows** | ‚úÖ –ü–æ–ª–Ω–∞—è | `COM1`, `COM2`, ... | –û–ø—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ |
| **Linux** | ‚úÖ –ü–æ–ª–Ω–∞—è | `/dev/ttyUSB0`, `/dev/ttyACM0` | pyudev (—Å–æ–±—ã—Ç–∏—è) |
| **macOS** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–∞—è | `/dev/cu.*` | –û–ø—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ |

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python __main__.py
```

### –ì–æ—Ç–æ–≤—ã–µ —Å–±–æ—Ä–∫–∏

–°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π `.exe` –¥–ª—è Windows –≤ —Ä–∞–∑–¥–µ–ª–µ [Releases](https://github.com/–í–ê–®_–ù–ò–ö/modbus-gui/releases).

## –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Windows

```powershell
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python -m venv .venv
.venv\Scripts\Activate
pip install -r requirements.txt
pip install pyinstaller

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è Rust-–º–æ–¥—É–ª—è (—Ç—Ä–µ–±—É–µ—Ç—Å—è Rust toolchain)
cd modbus_scanner_rust
maturin develop --release
cd ..

# –°–±–æ—Ä–∫–∞ .exe
pyinstaller --clean modbus_gui_wizard.spec
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `dist/DVLINK_GUI/DVLINK_GUI.exe`

### Linux

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
pip install pyinstaller

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è Rust-–º–æ–¥—É–ª—è
cd modbus_scanner_rust
maturin develop --release
cd ..

# –°–±–æ—Ä–∫–∞
pyinstaller --clean modbus_gui_wizard.spec
```

### –ß–µ—Ä–µ–∑ GitHub Actions

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è Windows, Linux –∏ macOS:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏
git tag v1.0.0
git push origin v1.0.0
```

–°–±–æ—Ä–∫–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –≤ [Releases](https://github.com/–í–ê–®_–ù–ò–ö/modbus-gui/releases).

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
gui/
‚îú‚îÄ‚îÄ core/                        # –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ modbus_connection.py     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ modbus_rtu_client.py     # Modbus RTU –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ modbus_device_info.py    # –ß—Ç–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
‚îÇ   ‚îú‚îÄ‚îÄ modbus_registers.py      # –†–∞–±–æ—Ç–∞ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ device_response_parser_fixed.py
‚îú‚îÄ‚îÄ wizard/                      # –ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ wizard_main.py           # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –º–∞—Å—Ç–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ step_welcome.py          # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îú‚îÄ‚îÄ step_connect.py          # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É
‚îÇ   ‚îú‚îÄ‚îÄ step_config.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ connection_monitor.py    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ usb_monitor.py           # USB-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ config_worker.py         # –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ test_worker.py           # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ components/              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞—Å—Ç–µ—Ä–∞
‚îú‚îÄ‚îÄ modbus_gui_main.py           # –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å—Ç–∞—Ä—ã–π)
‚îú‚îÄ‚îÄ __main__.py                  # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config_manager.py            # –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ constants.py                 # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ modbus_worker.py             # –†–∞–±–æ—á–∏–π –ø–æ—Ç–æ–∫ Modbus
‚îú‚îÄ‚îÄ auto_search_worker.py        # –ê–≤—Ç–æ–ø–æ–∏—Å–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚îú‚îÄ‚îÄ test_controller.py           # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ firmware_display.py          # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ—à–∏–≤–∫–µ
‚îú‚îÄ‚îÄ requirements.txt             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ modbus_gui_wizard.spec       # Spec –¥–ª—è PyInstaller
‚îú‚îÄ‚îÄ .github/workflows/build.yml  # GitHub Actions workflow
‚îú‚îÄ‚îÄ BUILD_WINDOWS.md             # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Windows
‚îú‚îÄ‚îÄ CROSS_PLATFORM.md            # –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
‚îî‚îÄ‚îÄ INSTALL_RUST_SCANNER.md      # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rust-—Å–∫–∞–Ω–µ—Ä–∞
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ
- **Python 3.8+**
- **PyQt5** ‚Äî –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **pyserial** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å COM-–ø–æ—Ä—Ç–∞–º–∏
- **maturin** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Rust-–º–æ–¥—É–ª—è

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ)
- **pyudev** (Linux) ‚Äî —Å–æ–±—ã—Ç–∏—è USB
- **pywin32** (Windows) ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ä—Ç–æ–≤

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `requirements.txt`.

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–û–°:** Windows 10/11, Linux (Ubuntu 20.04+), macOS 11+
- **Python:** 3.8 –∏–ª–∏ –≤—ã—à–µ
- **COM-–ø–æ—Ä—Ç:** USB-RS485 –∞–¥–∞–ø—Ç–µ—Ä –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–æ—Ä—Ç

### Linux: –¥–æ—Å—Ç—É–ø –∫ COM-–ø–æ—Ä—Ç–∞–º

```bash
# –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É dialout
sudo usermod -aG dialout $USER
# –ü–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
   - –í—ã–±–µ—Ä–∏—Ç–µ COM-–ø–æ—Ä—Ç –∏–∑ —Å–ø–∏—Å–∫–∞
   - –£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4)
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–ª–∏ "–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"
   - –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"

2. **–ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ "–ß–∏—Ç–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"
   - –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–Ω–∞–ª–æ–≤, Modbus –∏ CAN

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º: "–ë–µ–≥—É—â–∏–µ –æ–≥–Ω–∏", "–ü–æ–ª–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ", "–ó–º–µ–π–∫–∞"
   - –ù–∞–∂–º–∏—Ç–µ "–°—Ç–∞—Ä—Ç" –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∞

4. **–ó–∞–ø–∏—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É: `git checkout -b feature/new-feature`
2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã: `python test_*.py`
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python test_controller.py

# –¢–µ—Å—Ç Rust-—Å–∫–∞–Ω–µ—Ä–∞
python test_rust_scanner.py

# –¢–µ—Å—Ç USB-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
python test_ttyusb0.py
```

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| `pyudev not found` –Ω–∞ Linux | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `pip install pyudev` |
| `Permission denied` –Ω–∞ `/dev/ttyUSB0` | `sudo usermod -aG dialout $USER` |
| `VCRUNTIME140.dll` –Ω–∞ Windows | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Visual C++ Redistributable](https://aka.ms/vs/17/release/vc_redist.x64.exe) |
| Rust –º–æ–¥—É–ª—å –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è | –í—ã–ø–æ–ª–Ω–∏—Ç–µ `maturin develop --release` –≤ –ø–∞–ø–∫–µ `modbus_scanner_rust` |

## –õ–∏—Ü–µ–Ω–∑–∏—è

[–£–∫–∞–∂–∏—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: MIT]

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

[–£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ Issues]
